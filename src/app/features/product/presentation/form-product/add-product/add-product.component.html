<div class="add-product">
  <h1 class="add-product__title">Formulario de Registro</h1>
  @if (successMessage()) {
    <toast-primary 
      [text]="successMessage()!"
      [isSuccess]="isSuccess()"
    />
  }

  <form 
    id="productForm"
    [formGroup]="facade.form" 
    class="add-product__form" 
    (ngSubmit)="onSubmit()">

    <div class="add-product__row">
      <input-primary
        class="add-product__field"
        [control]="facade.form.controls['id']"
        [label]="'ID'"
        [errorMessage]="getFormErrorMessage(facade.form.controls['id'])"
      />
      <input-primary
        class="add-product__field"
        [control]="facade.form.controls['name']"
        [label]="'Nombre'"
        [placeholder]="'Tarjeta Crédito'"
        [errorMessage]="getFormErrorMessage(facade.form.controls['name'])"
      />
    </div>

    <div class="add-product__row">
      <input-primary
        class="add-product__field"
        [control]="facade.form.controls['description']"
        [label]="'Descripción'"
        [errorMessage]="getFormErrorMessage(facade.form.controls['description'])"
      />
      <input-primary
        class="add-product__field"
        [control]="facade.form.controls['logo']"
        [label]="'Logo'"
        [errorMessage]="getFormErrorMessage(facade.form.controls['logo'])"
      />
    </div>

    <div class="add-product__row">
      <input-primary
        class="add-product__field"
        [control]="facade.form.controls['date_release']"
        [type]="'date'"
        [label]="'Fecha liberación'"
        [errorMessage]="getFormErrorMessage(facade.form.controls['date_release'])"
      />
      <input-primary
        class="add-product__field"
        [control]="facade.form.controls['date_revision']"
        [type]="'date'"
        [label]="'Fecha Revisión'"
        [errorMessage]="getFormErrorMessage(facade.form.controls['date_revision'])"
      />
    </div>
  </form>

  <div class="add-product__actions">
    <button-primary 
      class="add-product__button" 
      [variant]="'cancel'"
      [label]="'Reiniciar'" 
      (click)="facade.reset()"
      />
    <button-primary 
      class="add-product__button"
      [type]="'submit'"
      [variant]="'confirm'"
      [label]="'Confirmar'"
      [form]="'productForm'"
      [disabled]="!facade.form.valid"
      />
  </div>

</div>